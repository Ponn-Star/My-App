{
    "sourceFile": "FrontEnd/src/components/Navbar.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1748631870398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748631880991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n const Navbar = () => {\r\n     const navLinks = [\r\n         { name: 'Home', path: '/' },\r\n-        { name: 'Phòng', path: '/rooms' },\r\n+        { name: 'Rooms', path: '/rooms' },\r\n     ];\r\n \r\n     const [isScrolled, setIsScrolled] = React.useState(false);\r\n     const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n"
                },
                {
                    "date": 1748804824342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n const Navbar = () => {\r\n     const navLinks = [\r\n         { name: 'Home', path: '/' },\r\n-        { name: 'Rooms', path: '/rooms' },\r\n+        { name: 'AllRooms', path: '/rooms' },\r\n     ];\r\n \r\n     const [isScrolled, setIsScrolled] = React.useState(false);\r\n     const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n"
                },
                {
                    "date": 1748804833702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n const Navbar = () => {\r\n     const navLinks = [\r\n         { name: 'Home', path: '/' },\r\n-        { name: 'AllRooms', path: '/rooms' },\r\n+        { name: 'Rooms', path: '/rooms' },\r\n     ];\r\n \r\n     const [isScrolled, setIsScrolled] = React.useState(false);\r\n     const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n"
                },
                {
                    "date": 1748804903370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n const Navbar = () => {\r\n     const navLinks = [\r\n         { name: 'Home', path: '/' },\r\n-        { name: 'Rooms', path: '/rooms' },\r\n+        { name: 'Rooms', path: './' },\r\n     ];\r\n \r\n     const [isScrolled, setIsScrolled] = React.useState(false);\r\n     const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n"
                },
                {
                    "date": 1748805002963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n const Navbar = () => {\r\n     const navLinks = [\r\n         { name: 'Home', path: '/' },\r\n-        { name: 'Rooms', path: './' },\r\n+        { name: 'Rooms', path: '../pages/AllRooms.jsx' },\r\n     ];\r\n \r\n     const [isScrolled, setIsScrolled] = React.useState(false);\r\n     const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n"
                }
            ],
            "date": 1748631870398,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { Link, useLocation, useNavigate} from 'react-router-dom';\r\nimport { assets } from '../assets/assets';\r\nimport { useClerk, useUser, UserButton } from '@clerk/clerk-react';\r\n\r\nconst BookIcon = () => (\r\n    <svg className='w-4 h-4 text-gray-700' aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n        <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 19V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v13H7a2 2 0 0 0-2 2Zm0 0a2 2 0 0 0 2 2h12M9 3v13m7 0v4\" />\r\n    </svg>\r\n)\r\n\r\nconst Navbar = () => {\r\n    const navLinks = [\r\n        { name: 'Home', path: '/' },\r\n        { name: 'Phòng', path: '/rooms' },\r\n    ];\r\n\r\n    const [isScrolled, setIsScrolled] = React.useState(false);\r\n    const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n\r\n    const { openSignIn } = useClerk();\r\n    const { user } = useUser();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    React.useEffect(() => {\r\n        const handleScroll = () => {\r\n            setIsScrolled(window.scrollY > 10);\r\n        };\r\n        window.addEventListener(\"scroll\", handleScroll);\r\n        return () => window.removeEventListener(\"scroll\", handleScroll);\r\n    }, []);\r\n\r\n    // Lấy role từ publicMetadata của user, mặc định là 'user'\r\n    const role = user?.publicMetadata?.role || 'user';\r\n\r\n    return (    \r\n        <nav className={`fixed top-0 left-0 w-full flex items-center justify-between px-4 md:px-16 lg:px-24 xl:px-32 transition-all duration-500 z-50 ${isScrolled ? \"bg-white/80 shadow-md text-gray-700 backdrop-blur-lg py-3 md:py-4\" : \"py-4 md:py-6\"}`}>\r\n\r\n            {/* Logo */}\r\n            <Link to='/'>\r\n                <img src={assets.logo} alt=\"logo\" className={`h-9 ${isScrolled && \"invert opacity-80\"}`} />\r\n            </Link>\r\n\r\n            {/* Desktop Nav */}\r\n            <div className=\"hidden md:flex items-center gap-4 lg:gap-8\">\r\n                {navLinks.map((link, i) => (\r\n                    <a key={i} href={link.path} className={`group flex flex-col gap-0.5 ${isScrolled ? \"text-gray-700\" : \"text-white\"}`}>\r\n                        {link.name}\r\n                        <div className={`${isScrolled ? \"bg-gray-700\" : \"bg-white\"} h-0.5 w-0 group-hover:w-full transition-all duration-300`} />\r\n                    </a>\r\n                ))}\r\n\r\n                {/* Chỉ hiện nút Dashboard nếu role là admin */}\r\n                {role === 'admin' && (\r\n                    <button\r\n                        className={`border px-4 py-1 text-sm font-light rounded-full cursor-pointer ${isScrolled ? 'text-black' : 'text-white'} transition-all`}\r\n                        onClick={() => navigate('/admin/dashboard')}\r\n                    >\r\n                        Dashboard\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Desktop Right */}\r\n            <div className=\"hidden md:flex items-center gap-4\">\r\n                <img src={assets.searchIcon} alt='search' className={`${isScrolled && \"invert\"} h-7 transition duration-500`} />\r\n\r\n                {user ?\r\n                    (\r\n                        <UserButton>\r\n                            <UserButton.MenuItems>\r\n                                <UserButton.Action label='My Bookings' labelIcon={<BookIcon />} onClick={() => navigate('/my-bookings')} />\r\n                            </UserButton.MenuItems>\r\n                        </UserButton>\r\n                    ) :\r\n                    (\r\n                        <button onClick={openSignIn} className=\"bg-black text-white px-8 py-2.5 rounded-full ml-4 transition-all duration-500\">\r\n                            Login\r\n                        </button>\r\n                    )\r\n                }\r\n            </div>\r\n\r\n            {/* Mobile Menu Button */}\r\n            <div className=\"flex items-center gap-3 md:hidden\">\r\n                <img onClick={() => setIsMenuOpen(!isMenuOpen)} src={assets.menuIcon} alt='' className={`${isScrolled && \"invert\"} h-4`} />\r\n            </div>\r\n\r\n            {/* Mobile Menu */}\r\n            <div className={`fixed top-0 left-0 w-full h-screen bg-white text-base flex flex-col md:hidden items-center justify-center gap-6 font-medium text-gray-800 transition-all duration-500 ${isMenuOpen ? \"translate-x-0\" : \"-translate-x-full\"}`}>\r\n                <button className=\"absolute top-4 right-4\" onClick={() => setIsMenuOpen(false)}>\r\n                    <img src={assets.closeIcon} alt='close' className=\"h-6.5\" />\r\n                </button>\r\n\r\n                {navLinks.map((link, i) => (\r\n                    <a key={i} href={link.path} onClick={() => setIsMenuOpen(false)}>\r\n                        {link.name}\r\n                    </a>\r\n                ))}\r\n\r\n                {/* Mobile cũng chỉ hiện Dashboard cho admin */}\r\n                {role === 'admin' && (\r\n                    <button\r\n                        className=\"border px-4 py-1 text-sm font-light rounded-full cursor-pointer transition-all\"\r\n                        onClick={() => {\r\n                            navigate('/admin/dashboard');\r\n                            setIsMenuOpen(false);\r\n                        }}\r\n                    >\r\n                        Dashboard\r\n                    </button>\r\n                )}\r\n\r\n                {!user && (\r\n                    <button onClick={openSignIn} className=\"bg-black text-white px-8 py-2.5 rounded-full transition-all duration-500\">\r\n                        Login\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n"
        }
    ]
}